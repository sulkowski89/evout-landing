<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EVOUT</title>
  <style>
    :root { --bg:#000; --fg:#fff; }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);font-family:Arial,Helvetica,sans-serif}

    /* ===== PRELOADER ===== */
    #preloader,#app{position:fixed;inset:0;display:flex;align-items:center;justify-content:center}
    #preloader{background:#000;transition:opacity .4s ease;z-index:100}
    .swirl{
      width:min(50vmin,280px);height:min(50vmin,280px);border-radius:50%;
      background:conic-gradient(from 0deg,#4af,#0ff,#8f8,#4af);
      -webkit-mask:radial-gradient(circle at center,transparent 44%,#000 45% 100%);
              mask:radial-gradient(circle at center,transparent 44%,#000 45% 100%);
      filter:blur(1px) drop-shadow(0 0 16px #0ff);
      animation:spin 1.2s linear infinite
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* ===== APP CONTAINER ===== */
    #app{opacity:0;pointer-events:none;transition:opacity .6s ease}
    #app.show{opacity:1;pointer-events:auto}

    /* ===== LANDING LOGO ===== */
    .logo{
      margin:0;white-space:nowrap;line-height:1;font-weight:800;letter-spacing:.08em;
      font-size:clamp(40px,20vw,16rem);
      color:#fff;
      opacity:0;transform:translateY(8px);
      animation: fadeInUp .8s ease 60ms both,
                 pulse 2.6s ease-in-out .9s infinite alternate;
      cursor:pointer;outline:none;user-select:none;z-index:1;
      text-shadow:0 0 12px rgba(255,255,255,.08);
      position:relative;
    }
    @keyframes fadeInUp{to{opacity:1;transform:none}}
    @keyframes pulse{to{transform:scale(1.035)}}
    @keyframes fadeOutUp{to{opacity:0;transform:translateY(-6px)}}
    .logo.fadeout{animation: fadeOutUp .25s ease forwards}

    /* ===== LANGUAGE MODAL ===== */
    #lang{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.6);backdrop-filter:saturate(120%) blur(2px);z-index:10}
    #lang.show{display:grid}
    .card{padding:24px 22px;border-radius:18px;background:#0b0b0b;box-shadow:0 10px 30px rgba(0,0,0,.5);min-width:min(92vw,480px);text-align:center}
    .row{
      display:flex;flex-direction:column;gap:12px;align-items:stretch;margin-top:14px
    }
    .btn{
      padding:12px 16px;border-radius:12px;background:#111;color:#fff;border:1px solid #222;
      font-weight:700;letter-spacing:.04em;cursor:pointer
    }
    .btn:hover{border-color:#444}

    /* ===== HERO ===== */
    #hero{position:absolute;inset:0;display:none;place-items:center;text-align:center;padding:24px}
    #hero.show{display:grid}
    .hero-wrap{width:min(60vw,1100px);margin:0 auto}
    @media (max-width: 900px){
      .hero-wrap{width:92vw}
    }
    .hero-title{margin:0 0 .3em;font-weight:800;letter-spacing:.04em;line-height:1;font-size:clamp(48px,12vw,140px)}
    .hero-tagline{margin:.1em 0 .35em;opacity:.9;font-weight:600;font-size:clamp(16px,3.2vw,28px)}
    .hero-soon{margin:0;opacity:.75;letter-spacing:.08em;text-transform:uppercase;font-size:clamp(12px,2.2vw,16px)}

    /* ===== REDUCED MOTION ===== */
    @media (prefers-reduced-motion: reduce){
      .swirl{animation:none}
      .logo{animation:none;opacity:1;transform:none}
      #preloader,#app{transition:none}
    }
  </style>
</head>
<body>
  <!-- PRELOADER -->
  <div id="preloader" aria-hidden="true">
    <div class="swirl" aria-label="Ładowanie"></div>
  </div>

  <!-- APP -->
  <div id="app" role="main" aria-live="polite">
    <h1 class="logo" id="logo" tabindex="0" role="button" aria-label="Wejdź do EVOUT">EVOUT</h1>

    <!-- LANGUAGE CHOOSER -->
    <div id="lang" aria-modal="true" role="dialog" aria-label="Wybór języka">
      <div class="card">
        <h3>Wybierz język / Choose language</h3>
        <div class="row">
          <button class="btn" data-lang="en">English</button>
          <button class="btn" data-lang="de">Deutsch</button>
          <button class="btn" data-lang="pl">Polski</button>
        </div>
      </div>
    </div>

    <!-- HERO -->
    <section id="hero">
      <div class="hero-wrap">
        <h1 class="hero-title">EVOUT</h1>
        <p class="hero-tagline" id="tagline">Marketing i rozwiązania IT dla Twojej firmy</p>
        <p class="hero-soon" id="soon">Już wkrótce</p>
      </div>
    </section>
  </div>

  <script>
    // ?skipintro=1 to bypass preloader during dev
    const params = new URLSearchParams(location.search);
    const skip = params.get('skipintro') === '1';

    const pre = document.getElementById('preloader');
    const app = document.getElementById('app');
    const logo = document.getElementById('logo');
    const lang = document.getElementById('lang');
    const hero = document.getElementById('hero');
    const tagline = document.getElementById('tagline');
    const soon = document.getElementById('soon');

    const i18n = {
      en: {
        tagline: "Marketing & IT solutions for your business",
        soon: "Coming soon"
      },
      de: {
        tagline: "Marketing- und IT-Lösungen für Ihr Unternehmen",
        soon: "Bald verfügbar"
      },
      pl: {
        tagline: "Marketing i rozwiązania IT dla Twojej firmy",
        soon: "Już wkrótce"
      }
    };

    function applyLang(code){
      const dict = i18n[code] || i18n.pl;
      tagline.textContent = dict.tagline;
      soon.textContent = dict.soon;
      document.documentElement.lang = code;
    }

    function showApp(){
      pre.style.opacity = '0';
      setTimeout(()=>{ pre.style.display='none'; app.classList.add('show'); }, 400);
    }

    // Start: preloader 3s (or skip for dev)
    if (skip) { showApp(); } else { setTimeout(showApp, 3000); }

    // Open language modal → fade out logo
    function openLang(){
      logo.classList.add('fadeout');   // ukryj logo
      setTimeout(()=>{ lang.classList.add('show'); }, 120);
    }
    logo.addEventListener('click', openLang);
    logo.addEventListener('keydown', e => { if(e.key==='Enter'||e.key===' ') openLang(); });

    // Choose language → apply i18n → show hero
    lang.addEventListener('click', (e)=>{
      const btn = e.target.closest('[data-lang]');
      if(!btn) return;
      const chosen = btn.getAttribute('data-lang');
      localStorage.setItem('evout_lang', chosen);
      applyLang(chosen);
      lang.classList.remove('show');
      hero.classList.add('show');
      hero.scrollIntoView({behavior:'smooth', block:'center'});
    });

    // If language remembered, apply it (but logo i modal pokaż normalnie)
    const remembered = localStorage.getItem('evout_lang');
    if (remembered) applyLang(remembered);
  </script>
</body>
</html>
